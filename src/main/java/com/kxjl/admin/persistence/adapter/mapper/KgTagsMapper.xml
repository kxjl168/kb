<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.kxjl.admin.persistence.adapter.dao.KgTagsMapperAdapter">
	<resultMap id="BaseResultMap"
		type="com.kxjl.admin.persistence.entity.KgTags"
		extends="com.kxjl.admin.persistence.dao.KgTagsMapper.BaseResultMap">
	</resultMap>
	<!--在此编写自己的sql, 生成的sql文件不需要编辑 -->







	<select id="selectByName"
		parameterType="com.kxjl.admin.persistence.entity.KgTags"
		resultMap="BaseResultMap">
		select
		c.*
		from KG_TAGS c
		<!-- left join KG_CLASS k on c.CLS_ID=k.ID -->


		where 1=1 and c.deleted='0'

		<if test="name != null and name!='' ">

			AND c.NAME= #{name}

		</if>
		
		<if test="_databaseId =='oracle' " >
			<![CDATA[ and  rownum<=1 ]]> 
			</if>

	
	order by c.CREATED_TIME DESC
	
	<if test="_databaseId =='mysql' " >
		<![CDATA[ 
		limit 1 
		]]>
		</if>
		
	</select>


	<select id="selectList"
		parameterType="com.kxjl.admin.persistence.entity.KgTags"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jun 08 
			11:51:06 CST 2020. -->
		select
		c.*
		from KG_TAGS c
		<!-- left join KG_CLASS k on c.CLS_ID=k.ID -->


		where 1=1 and c.deleted='0'

		<if test="name != null and name!='' ">
			<bind name="name" value="'%' + name + '%'" />
			AND c.NAME LIKE #{name}

		</if>


		order by c.CREATED_TIME DESC

	</select>



</mapper>