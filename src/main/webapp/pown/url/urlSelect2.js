function initTypeSelect(){$("#q_type").select2({placeholder:"选择分类",minimumInputLength:0,maximumSelectionLength:2,theme:"bootstrap",multiple:false,language:{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(e){var t=e.input.length-e.maximum,n="请删除"+t+"个字符";return n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="请再输入至少"+t+"个字符";return n},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(e){var t="";return t},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"}},ajax:{type:"post",url:getImUrl()+"kurl/getSelectGroupInfoList.do",dataType:"json",data:function(params){var page=params.page||0;var query={url_name:params.term,page:page,pageCount:1000,};return query},processResults:function(data,params){var selectdatas=[];$.each(data,function(index,itemstr){item=eval("("+itemstr+")");var clds=eval(item.child);var clditems=[];$.each(clds,function(index2,item2){clditems.push({id:item2.id,text:item2.url_name,icon:item.httppath+item2.icon,})});selectdatas.push({text:item.url_name,children:clditems,})});return{results:selectdatas,pagination:{more:(params.page*10>=data.total)?false:true}}},},templateResult:formatRepo,escapeMarkup:function(markup){return markup},templateSelection:function(data,container){return data.text},});$('#q_type').on('select2:select',function(e){var cids=$("#q_type").val();var id=(cids==null||cids.length==0)?"":cids[0];id=cids;var text=$("#q_type").select2('data')[0].text;setTimeout(function(){window.location.hash="#"+text},50)})}function formatRepo(repo){if(repo.loading){return repo.text}var markup=repo.text;if(repo.id==-1){markup='<button type="button "  style=" width: 100%;" class=" btn btn-danger btn-warning " data-dismiss="modal ">'+repo.text+'</button>'}return markup}